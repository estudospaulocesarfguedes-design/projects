<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>A Boa Fatia — Fluxo de Caixa</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- jsPDF -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="container">

  <header>
    <div class="logo-box">
      <!-- external SVG logo file -->
      <img id="logoImg" src="img/logo.svg" alt="A Boa Fatia logo" width="72" height="72">
    </div>
    <div>
      <h1>A Boa Fatia — Fluxo de Caixa</h1>
      <p class="lead muted">Dados de receita já preenchidos (editáveis). Despesas iniciam com valores (editáveis) — altere, adicione ou remova linhas conforme necessário.</p>
    </div>
  </header>

  <!-- MAIN CARD: controls and tables -->
  <section class="card">
    <div class="row" style="justify-content:space-between; align-items:center;">
      <div>
        <strong>Período padrão:</strong> 6 meses &nbsp; &nbsp;
        <span class="inlineSmall">(M1..M6 — edite os valores livremente)</span>
      </div>
      <div style="display:flex; gap:8px; align-items:center;">
        <button id="btnCalc">Atualizar cálculos</button>
        <button id="btnPdf" class="secondary">Gerar PDF</button>
      </div>
    </div>
    <p class="muted small" style="margin-top:8px">Você pode editar qualquer valor, adicionar novas categorias (Entradas / Despesas Variáveis / Despesas Fixas) e remover linhas.</p>
  </section>

  <!-- ENTRADAS (Receitas) -->
  <section class="card" id="sectionRevenues">
    <h3 style="margin-top:0">Entradas (Receitas) — valores já preenchidos</h3>
    <table id="tableRevenues">
      <thead>
        <tr>
          <th>Categoria</th>
          <th>M1</th><th>M2</th><th>M3</th><th>M4</th><th>M5</th><th>M6</th>
          <th>Ações</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div style="margin-top:8px;">
      <button class="addBtn" id="addRevenue">➕ Adicionar receita</button>
    </div>
  </section>

  <!-- DESPESAS VARIÁVEIS -->
  <section class="card" id="sectionVar">
    <h3 style="margin-top:0">Despesas Variáveis — valores predefinidos (editáveis)</h3>
    <table id="tableVar">
      <thead><tr><th>Categoria</th><th>M1</th><th>M2</th><th>M3</th><th>M4</th><th>M5</th><th>M6</th><th>Ações</th></tr></thead>
      <tbody></tbody>
    </table>
    <div style="margin-top:8px;">
      <button class="addBtn" id="addVar">➕ Adicionar despesa variável</button>
    </div>
  </section>

  <!-- DESPESAS FIXAS -->
  <section class="card" id="sectionFix">
    <h3 style="margin-top:0">Despesas Fixas — valores predefinidos (editáveis)</h3>
    <table id="tableFix">
      <thead><tr><th>Categoria</th><th>M1</th><th>M2</th><th>M3</th><th>M4</th><th>M5</th><th>M6</th><th>Ações</th></tr></thead>
      <tbody></tbody>
    </table>
    <div style="margin-top:8px;">
      <button class="addBtn" id="addFix">➕ Adicionar despesa fixa</button>
    </div>
  </section>

  <!-- KPIs and summary -->
  <section class="card">
    <h3 style="margin-top:0">Totais & Indicadores</h3>
    <div class="kpis">
      <div class="kpi"><strong>Receita total (6 meses)</strong><div id="kReceita">R$ 0,00</div></div>
      <div class="kpi"><strong>Despesa total (6 meses)</strong><div id="kDespesa">R$ 0,00</div></div>
      <div class="kpi"><strong>Lucro total (6 meses)</strong><div id="kLucro">R$ 0,00</div></div>
      <div class="kpi"><strong>Ticket médio</strong><div id="kTicket">R$ 0,00</div></div>
      <div class="kpi"><strong>P. Equilíbrio (mensal)</strong><div id="kPe">R$ 0,00</div></div>
      <div class="kpi"><strong>Margem média</strong><div id="kMargem">0%</div></div>
    </div>

    <h4 style="margin-top:12px">Resumo Mensal</h4>
    <table id="resumoTable">
      <thead><tr><th>Mês</th><th>Entradas</th><th>Saídas</th><th>Lucro</th><th>Saldo Acumulado</th></tr></thead>
      <tbody></tbody>
    </table>
  </section>

  <!-- Charts -->
  <section class="card">
    <h3 style="margin-top:0">Gráficos</h3>
    <div class="charts">
      <div><canvas id="chartRevExp" height="260"></canvas></div>
      <div><canvas id="chartPie" height="260"></canvas></div>
      <div style="grid-column:1/-1"><canvas id="chartLucro" height="220"></canvas></div>
    </div>
  </section>

  <footer>Desenvolvido para <strong>A Boa Fatia</strong>. Edite valores e gere o relatório PDF.</footer>
</div>

<!-- App JS -->
<script src="js/app.js"></script>
</body>
</html>
